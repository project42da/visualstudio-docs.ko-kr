---
title: 코드에서 종속성 다이어그램 만들기
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- architecture, dependency diagrams
- dependency diagrams
- diagrams - modeling, layer
- constraints, architectural
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.prod: visual-studio-dev15
ms.technology: vs-ide-modeling
ms.openlocfilehash: 73f3cf2bbb5903a3c2dda8c531f28e9aa81facad
ms.sourcegitcommit: 58052c29fc61c9a1ca55a64a63a7fdcde34668a4
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/04/2018
ms.locfileid: "34749703"
---
# <a name="create-dependency-diagrams-from-your-code"></a>코드에서 종속성 다이어그램 만들기

소프트웨어 시스템의 상위 수준, 논리적 아키텍처를 시각화 하려면 만듭니다는 *종속성 다이어그램* Visual Studio에서. 코드가 디자인의 일관성이 유지 되는지을 하려면 종속성 다이어그램을 사용 하 여 코드의 유효성을 검사 합니다. Visual C# 및 Visual Basic 프로젝트에 대 한 종속성 다이어그램을 만들 수 있습니다. 이 기능을 지원하는 Visual Studio 버전을 확인하려면 [아키텍처 및 모델링 도구에 대한 버전 지원](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport)을 참조하세요.

![종속성 다이어그램 만들기](../modeling/media/layerdiagramvisualizecode.png)

종속성 다이어그램 라는 논리적, 추상 그룹으로 Visual Studio 솔루션 항목을 구성 하면 *레이어*합니다. 레이어를 사용하여 이러한 아티팩트가 수행하는 주요 작업 또는 시스템의 주요 구성 요소를 설명할 수 있습니다. 각 레이어에는 보다 세부적인 작업을 나타내는 다른 레이어가 포함될 수 있습니다. 만들어지지 않았거나 기존을 지정할 수도 있습니다 *종속성* 레이어 간의 합니다. 이와 같이 화살표로 나타내는 종속성은 다른 레이어가 나타내는 기능을 어느 레이어가 사용할 수 있는지 또는 현재 어느 레이어가 사용하고 있는지를 표시합니다. 코드의 아키텍처 제어를 유지하려면 다이어그램에서 의도한 종속성을 표시한 다음 해당 다이어그램에 대해 코드 유효성을 검사합니다.

[비디오: 실시간으로 아키텍처 종속성 유효성 검사](https://sec.ch9.ms/sessions/69613110-c334-4f25-bb36-08e5a93456b5/170ValidateArchitectureDependenciesWithVisualStudio.mp4)

##  <a name="CreateDiagram"></a> 종속성 다이어그램 만들기

종속성 다이어그램을 만들려면 먼저 솔루션에 모델링 프로젝트가 있는지 확인 합니다.

> [!IMPORTANT]
> 추가 하거나 하지 마십시오, 끌어 놓거나 다른 모델링 프로젝트 또는 솔루션의 다른 장소로 모델링 프로젝트에서 기존 종속성 다이어그램을 복사 합니다. 그러면 다이어그램을 변경하더라도 원래 다이어그램의 참조가 유지됩니다. 또한 레이어 유효성 검사가 제대로 작동하지 않고 다이어그램을 열려고 할 때 요소 누락이나 기타 오류 등의 다른 문제가 발생할 수 있습니다.
>
> 대신, 모델링 프로젝트에 새 종속성 다이어그램을 추가 합니다. 소스 다이어그램에서 새 다이어그램으로 요소를 복사합니다. 모델링 프로젝트와 종속성에 새 다이어그램을 저장 합니다.

#### <a name="to-add-a-new-dependency-diagram-to-a-modeling-project"></a>모델링 프로젝트에 새 종속성 다이어그램을 추가 하려면

1.  에 **아키텍처** 메뉴 선택 **새 종속성 다이어그램**합니다.

2.  아래 **템플릿**, 선택 **종속성 다이어그램**합니다.

3.  다이어그램 이름을 지정합니다.

4.  **모델링 프로젝트에 추가**로 이동 하 고 솔루션의 기존 모델링 프로젝트를 선택 합니다.

     또는

     선택 **새 모델링 프로젝트를 만들** 새 모델링 프로젝트는 솔루션에 추가 합니다.

    > [!NOTE]
    >  종속성 다이어그램은 모델링 프로젝트 내에 있어야 합니다. 그러나 솔루션의 다른 위치에 있는 항목에 링크를 연결할 수 있습니다.

5.  모델링 프로젝트와 종속성 다이어그램을 저장 해야 합니다.

## <a name="drag-and-drop-or-copy-and-paste-from-a-code-map"></a>끌어 하 고, 삭제 또는에서 복사 및 붙여넣기, 코드 맵

1. 사용 하 여 솔루션에 대 한 코드 맵을 생성 하는 **아키텍처** 메뉴.

2. 제품 코드의 종속성을 강제 적용 하려는 경우 솔루션 폴더와 "테스트 자산"를 제거 하는 코드 맵 필터를 적용 하는 것이 좋습니다.

3. 생성 된 코드 맵의 "외부" 노드를 제거 또는 네임 스페이스 종속성을 적용 하려는 여부에 따라 외부 어셈블리를 표시 하도록 확장 하 고 필요한 경우 선택적 어셈블리 코드 맵을에서 삭제 합니다.

4. 사용 하 여 솔루션에 대 한 새 종속성 다이어그램을 만듭니다는 **아키텍처** 메뉴

5. 코드 맵에서 모든 노드를 선택 (사용 하 여 _Ctrl_ + _A_, 하거나 고무 밴드 선택 영역을 사용 하 여 키를 눌러는 _Shift_ 클릭 하 고 끌어 놓거나 해제 하기 전에 키입니다.

6. 끌어서 놓기, 또는 복사 및 붙여넣기, 새 종속성 유효성 검사 다이어그램으로 선택 된 요소입니다.

7. 현재 응용 프로그램 아키텍처를 보여 줍니다. 결정 되도록 아키텍처 및 종속성 다이어그램을 적절 하 게 수정 합니다.

![코드 맵에서 생성 된 종속성 다이어그램](media/dependency-validation-01.png)

##  <a name="CreateLayers"></a> 아티팩트에서 레이어 만들기
 프로젝트, 코드 파일, 네임스페이스, 클래스, 메서드 등 Visual Studio 솔루션 항목에서 레이어를 만들 수 있습니다. 이렇게 하면 레이어와 항목 간에 링크가 자동으로 만들어지고 레이어 유효성 검사 프로세스에 포함됩니다.

 또한 Word 문서 또는 PowerPoint 프레젠테이션과 같이 유효성 검사를 지원하지 않는 항목에 레이어를 연결하여 레이어에 사양 또는 계획을 연결할 수 있습니다. 또한 여러 앱에 공유되는 프로젝트의 파일에 레이어를 연결할 수 있지만, 유효성 검사 프로세스에는 "레이어 1", "레이어 2"와 같이 제네릭 이름으로 나타나는 레이어는 포함되지 않습니다.

 연결된 된 항목이 유효성 검사를 지원 하는지 확인 하려면 열고 **레이어 탐색기** 검사는 **유효성 검사 지원** 항목의 속성입니다. 참조 [레이어와 아티팩트 간의 링크 관리](#Managing)합니다.

|**대상**|**다음이 단계를 수행**|
|------------|----------------------------|
|단일 아티팩트에 대한 레이어 만들기|<ol><li>이러한 원본의 항목 종속성 다이어그램으로 끌어 옵니다.<br /><br /> <ul><li>**솔루션 탐색기**<br /><br />         예를 들어 파일이나 프로젝트를 끌어 올 수 있습니다.</li><li>코드 맵<br /><br />         참조 [솔루션 전체의 종속성 매핑](../modeling/map-dependencies-across-your-solutions.md) 및 [코드 맵을 사용 하 여 응용 프로그램 디버그](../modeling/use-code-maps-to-debug-your-applications.md)합니다.</li><li>**클래스 뷰** 또는 **개체 브라우저**</li></ul><br />     레이어가 다이어그램에 나타나고 아티팩트에 연결됩니다.</li><li>연결된 코드 또는 아티팩트의 기능을 반영하도록 레이어 이름을 바꿉니다.</li></ol> **중요:** 이진 파일 종속성 다이어그램으로 끌어 자동 추가 되지 않습니다 모델링 프로젝트에 해당 참조 합니다. 유효성을 검사할 이진 파일을 모델링 프로젝트에 수동으로 추가해야 합니다. **모델링 프로젝트에 이진 파일을 추가 하려면** <ol><li>**솔루션 탐색기**을 모델링 프로젝트에 대 한 바로 가기 메뉴를 열고 다음 선택 **기존 항목 추가**합니다.</li><li>에 **기존 항목 추가** 대화 상자에서 이진 파일에 찾아보기, 선택 하 고 다음 선택 **확인**합니다.     이진 파일이 모델링 프로젝트에 나타납니다.</li><li>**솔루션 탐색기**, 이진 파일을 추가 하 고 다음 키를 누릅니다 **F4** 열려는 **속성** 창.</li><li>각 이진 파일에서 설정 된 **빌드 작업** 속성을 **유효성 검사**합니다.</li></ol>|
|선택한 모든 아티팩트에 대한 단일 레이어 만들기|종속성 다이어그램 모든 아티팩트는 동시에 끌어 옵니다.<br /><br /> 레이어가 다이어그램에 나타나고 모든 아티팩트에 연결됩니다.|
|선택한 각 아티팩트마다 레이어 만들기|키를 누른는 **SHIFT** 끌면 모든 아티팩트 종속성 다이어그램으로 동시에 키입니다. **참고:** 사용 하는 경우는 **SHIFT** 키 항목의 범위를 선택 하 고 아티팩트를 선택한 후에 키를 놓습니다. 그런 다음 이 키를 다시 누른 상태로 아티팩트를 다이어그램으로 끌어 옵니다. <br /><br /> 각 아티팩트에 대한 레이어가 다이어그램에 나타나고 각 아티팩트에 연결됩니다.|
|레이어에 아티팩트 추가|아티팩트를 레이어로 끌어 옵니다.|
|연결되지 않은 새 레이어 만들기|에 **도구 상자**, 확장 하 고는 **종속성 다이어그램** 섹션, 한 다음 끌어는 **레이어** 종속성 다이어그램에 합니다.<br /><br /> 레이어를 여러 개 추가하려면 이 도구를 두 번 클릭합니다. 작업을 완료 하는 경우 선택은 **포인터** 도구 또는 키를 눌러는 **ESC** 키입니다.<br /><br /> 또는<br /><br /> 종속성 다이어그램에 대 한 바로 가기 메뉴를 열고 **추가**를 선택한 후 **레이어**합니다.|
|중첩된 레이어 만들기|기존 레이어를 다른 아티팩트로 끌어 옵니다.<br /><br /> 또는<br /><br /> 계층에 대 한 바로 가기 메뉴를 열고 **추가**를 선택한 후 **레이어**합니다.|
|기존 레이어를 두 개 이상 포함하는 새 레이어 만들기|레이어 선택한 항목에 대 한 바로 가기 메뉴를 열고 선택한 다음 선택 **그룹**합니다.|
|레이어 색 변경|설정의 **색** 속성을 원하는 색입니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 속하지 않도록 지정합니다.|계층의 네임 스페이스를 입력 **것이 금지 되어 네임 스페이스** 속성입니다. 세미콜론을 사용 하 여 (**;**)을 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 종속될 수 없도록 지정합니다.|계층의 네임 스페이스를 입력 **Namespace 사용할 수 없는 종속성** 속성입니다. 세미콜론을 사용 하 여 (**;**)을 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스 중 하나에 속해야 하도록 지정합니다.|레이어의에 네임 스페이스를 입력 **필요한 네임 스페이스** 속성입니다. 세미콜론을 사용 하 여 (**;**)을 네임 스페이스를 구분 합니다.|

 레이어의 숫자는 해당 레이어에 연결된 아티팩트의 수를 나타냅니다. 그러나 이 숫자를 읽을 때 다음 사항을 유념해야 합니다.

-   레이어가 직접 연결되지 않은 다른 아티팩트를 포함하는 아티팩트에 연결된 경우 연결된 아티팩트만 숫자에 포함됩니다. 그러나 레이어 유효성 검사 중에는 직접 연결되지 않은 다른 아티팩트도 분석을 위해 포함됩니다.

     예를 들어 레이어가 단일 네임스페이스에 연결된 경우 해당 네임스페이스에 클래스가 들어 있더라도 연결된 아티팩트의 수는 1입니다. 레이어가 네임스페이스의 각 클래스에도 연결되어 있으면 연결된 클래스가 숫자에 포함됩니다.

-   레이어가 아티팩트에 연결된 다른 레이어를 포함하면 컨테이너 레이어가 이 아티팩트에도 연결됩니다. 단, 컨테이너 레이어의 숫자에는 이러한 아티팩트가 포함되지 않습니다.

##  <a name="Managing"></a> 레이어와 아티팩트 간의 링크 관리

1.  종속성 다이어그램에는 계층에 대 한 바로 가기 메뉴를 열고 선택한 후 **링크 보기**합니다.

     **레이어 탐색기** 선택한 레이어에 대 한 아티팩트 링크가 표시 됩니다.

2.  다음 작업으로 이러한 링크를 관리할 수 있습니다.

|**대상**|**레이어 탐색기의**|
|------------|---------------------------|
|레이어와 아티팩트 간의 링크 삭제|아티팩트 링크에 대 한 바로 가기 메뉴를 열고 **삭제**합니다.|
|한 레이어에서 다른 레이어로 링크 이동|아티팩트 링크를 다이어그램의 기존 레이어로 끌어 옵니다.<br /><br /> 또는<br /><br /> 1.  아티팩트 링크에 대 한 바로 가기 메뉴를 열고 **잘라내기**합니다.<br />2.  종속성 다이어그램에는 계층에 대 한 바로 가기 메뉴를 열고 선택한 후 **붙여넣기**합니다.|
|한 레이어에서 다른 레이어로 링크 복사|1.  아티팩트 링크에 대 한 바로 가기 메뉴를 열고 **복사**합니다.<br />2.  종속성 다이어그램에는 계층에 대 한 바로 가기 메뉴를 열고 선택한 후 **붙여넣기**합니다.|
|기존 아티팩트 링크에서 새 레이어 만들기|아티팩트 링크를 다이어그램의 빈 영역으로 끌어 옵니다.|
|연결된 된 아티팩트가 종속성 다이어그램의 유효성 검사를 지원 하는지 확인 합니다.|확인 된 **유효성 검사 지원** 아티팩트 링크에 대 한 열입니다.|

##  <a name="Discovering"></a> 기존 종속성 리버스 엔지니어링
 한 레이어와 연결된 아티팩트에 다른 레이어와 연결된 아티팩트에 대한 참조가 있을 때마다 종속성이 존재합니다. 예를 들어 한 레이어의 클래스가 다른 레이어의 클래스를 포함하는 변수를 선언하는 경우입니다. 다이어그램의 레이어에 연결된 아티팩트에 대한 기존 종속성을 리버스 엔지니어링할 수 있습니다.

> [!NOTE]
>  일부 아티팩트 종류의 경우 종속성을 리버스 엔지니어링할 수 없습니다. 예를 들어 텍스트 파일에 연결된 레이어를 소스 또는 대상으로 하는 종속성은 리버스 엔지니어링되지 않습니다. 리버스 엔지니어링할 수 있는 종속성이 있는 아티팩트를 확인 하려면 하나 또는 여러 개의 레이어에 대 한 바로 가기 메뉴를 열고 선택한 후 **링크 보기**합니다. **레이어 탐색기**, 검사는 **유효성 검사 지원** 열입니다. 종속성이 리버스 엔지니어링 아티팩트가이 열은 표시 되지 않은 **False**합니다.

-   하나 또는 여러 개의 레이어를 선택 하 고 선택한 레이어에 대 한 바로 가기 메뉴를 열고 다음 선택 **종속성 생성**합니다.

 일반적으로 존재할 수 없는 일부 종속성이 나타나는데, 이러한 종속성을 편집하여 계획된 디자인에 맞출 수 있습니다.

##  <a name="EditDependencies"></a> 레이어 및 종속성을 의도 한 디자인을 보여주는 편집
 시스템 또는 의도 한 아키텍처를 하려면 계획 된 변경 내용을 설명 하기 위해 종속성 다이어그램을 편집 합니다.

|**대상**|**다음이 단계를 수행 합니다.**|
|------------|-----------------------------|
|종속성 방향 변경 또는 제한|설정의 **방향** 속성입니다.|
|새 종속성 만들기|사용 하 여 **종속성** 및 **양방향 종속성** 도구입니다.<br /><br /> 종속성을 여러 개 그리려면 이 도구를 두 번 클릭합니다. 작업을 완료 하는 경우 선택은 **포인터** 도구 또는 키를 눌러는 **ESC** 키입니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 종속될 수 없도록 지정합니다.|계층의 네임 스페이스를 입력 **Namespace 사용할 수 없는 종속성** 속성입니다. 세미콜론을 사용 하 여 (**;**)을 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 속하지 않도록 지정합니다.|계층의 네임 스페이스를 입력 **것이 금지 되어 네임 스페이스** 속성입니다. 세미콜론을 사용 하 여 (**;**)을 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스 중 하나에 속해야 하도록 지정합니다.|레이어의에 네임 스페이스를 입력 **필요한 네임 스페이스** 속성입니다. 세미콜론을 사용 하 여 (**;**)을 네임 스페이스를 구분 합니다.|

##  <a name="EditLayout"></a> 다이어그램에 요소가 표시 되는 방식을 변경 합니다.
 해당 속성을 편집하여 레이어의 크기, 모양, 색, 위치 또는 종속성의 색을 변경할 수 있습니다.

##  <a name="Codemaps"></a> 검색 패턴 및 코드 맵에 종속성
 종속성 다이어그램을 만드는 동안 작성할 수도 있습니다 **코드 맵**합니다. 이러한 다이어그램은 코드를 탐색하는 동안 패턴 및 종속성을 검색하는 데 도움이 됩니다. 솔루션 탐색기, 클래스 뷰 또는 개체 브라우저를 사용하여 어셈블리, 네임스페이스 및 클래스를 탐색합니다. 이러한 요소는 기존 레이어에 해당하는 경우가 많습니다. 코드 맵에 대한 자세한 내용은 다음을 참조하세요.

-   [솔루션 전체의 종속성 매핑](../modeling/map-dependencies-across-your-solutions.md)

-   [코드 맵을 사용하여 응용 프로그램 디버그](../modeling/use-code-maps-to-debug-your-applications.md)

-   [코드 맵 분석기를 사용하여 잠재적 문제 찾기](../modeling/find-potential-problems-using-code-map-analyzers.md)

## <a name="see-also"></a>참고 항목

- [비디오: 실시간으로 아키텍처 종속성 유효성 검사](https://sec.ch9.ms/sessions/69613110-c334-4f25-bb36-08e5a93456b5/170ValidateArchitectureDependenciesWithVisualStudio.mp4)
- [종속성 다이어그램: 참조](../modeling/layer-diagrams-reference.md)
- [종속성 다이어그램: 지침](../modeling/layer-diagrams-guidelines.md)
- [종속성 다이어그램을 사용하여 코드 유효성 검사](../modeling/validate-code-with-layer-diagrams.md)
- [코드 시각화](../modeling/visualize-code.md)
